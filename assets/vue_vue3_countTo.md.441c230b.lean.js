import{_ as b,o as u,c as h,t as f,d as V,C as o,a0 as d,x as i,b as p,a as g,U as x}from"./chunks/framework.1bc6aac7.js";import{V as _}from"./chunks/theme.49acdc83.js";let m=0;const y="webkit moz ms o".split(" ");let l,n;const F=typeof window>"u";if(F)l=function(){},n=function(){};else{l=window.requestAnimationFrame,n=window.cancelAnimationFrame;let e;for(let t=0;t<y.length&&!(l&&n);t++)e=y[t],l=l||window[e+"RequestAnimationFrame"],n=n||window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"];(!l||!n)&&(l=function(t){const a=new Date().getTime(),s=Math.max(0,16-(a-m)),r=window.setTimeout(()=>{t(a+s)},s);return m=a+s,r},n=function(t){window.clearTimeout(t)})}const T={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator(e){return e>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default(e,t,a,s){return a*(-Math.pow(2,-10*e/s)+1)*1024/1023+t}}},data(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown(){return this.startVal>this.endVal}},watch:{startVal(){this.autoplay&&this.start()},endVal(){this.autoplay&&this.start()}},mounted(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=l(this.count)},pauseResume(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause(){n(this.rAF)},resume(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,l(this.count)},reset(){this.startTime=null,n(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count(e){this.startTime||(this.startTime=e),this.timestamp=e;const t=e-this.startTime;this.remaining=this.localDuration-t,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(t,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(t,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(t/this.localDuration):this.printVal=this.localStartVal+(this.endVal-this.localStartVal)*(t/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),t<this.localDuration?this.rAF=l(this.count):this.$emit("callback")},isNumber(e){return!isNaN(parseFloat(e))},formatNumber(e){e=e.toFixed(this.decimals),e+="";const t=e.split(".");let a=t[0];const s=t.length>1?this.decimal+t[1]:"",r=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;r.test(a);)a=a.replace(r,"$1"+this.separator+"$2");return this.prefix+a+s+this.suffix}},unmounted(){n(this.rAF)}},q={class:"countTo"};function w(e,t,a,s,r,c){return u(),h("span",q,f(r.displayValue),1)}const D=b(T,[["render",w]]);const S=V({__name:"index",props:{startVal:{default:()=>0},endVal:{default:()=>0},duration:{default:()=>1e3},decimals:{default:()=>0},style:{default:()=>({})},unit:null,color:null},setup(e){const t=e;return(a,s)=>{var r,c;return u(),h("span",{style:d(t.style),class:"relative rsCountTo"},[o(D,{startVal:t.startVal,endVal:t.endVal,duration:t.duration,decimals:t.decimals,style:d({color:((r=t.color)==null?void 0:r.color)||"inherit"})},null,8,["startVal","endVal","duration","decimals","style"]),i("span",{class:"unitWrap absolute",style:d({color:((c=t.color)==null?void 0:c.unitColor)||"inherit"})},f(t.unit),5)],4)}}}),v=e=>(e.install=t=>{t.component(e.name,e)},e),E=v(S);const A=i("h1",{id:"动态数字",tabindex:"-1"},[g("动态数字 "),i("a",{class:"header-anchor",href:"#动态数字","aria-label":'Permalink to "动态数字"'},"​")],-1),C=i("h2",{id:"示例",tabindex:"-1"},[g("示例 "),i("a",{class:"header-anchor",href:"#示例","aria-label":'Permalink to "示例"'},"​")],-1),N=i("br",null,null,-1),B=x("",6),j=JSON.parse('{"title":"动态数字","description":"","frontmatter":{},"headers":[],"relativePath":"vue/vue3/countTo.md"}'),k={name:"vue/vue3/countTo.md"},R=Object.assign(k,{setup(e){const t=[{avatar:"/star.png",name:"jstar",title:"创建者"}];return(a,s)=>(u(),h("div",null,[A,C,i("div",null,[o(p(E),{endVal:99999999}),N,o(p(E),{endVal:99999999,duration:1e5})]),B,o(p(_),{size:"small",members:t})]))}});export{j as __pageData,R as default};
